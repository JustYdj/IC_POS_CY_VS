#ifndef __LCD12864_H
#define __LCD12864_H

#include "stm32f1xx_hal.h"
#include "Fonts/fonts.h"
#include "gb2312.h"
/*
4线串行模式
并行8080模式
*/
//#define LCD12864_8080		
/**
  * @}brief LCD12864 Interface
  */ 
/* PSB 并/串行选择 H-并 L串*/
#define LCD12864_PSB_PORT            		GPIOE
#define LCD12864_PSB_PIN             		GPIO_PIN_4
#define LCD12864_PSB_CLK_ENABLE()     	__HAL_RCC_GPIOE_CLK_ENABLE()
#define LCD12864_PSB_CLK_DISABLE()    	__HAL_RCC_GPIOE_CLK_DISABLE()
/* RST 低电平复位 */
#define LCD12864_RST_PORT            		GPIOC
#define LCD12864_RST_PIN             		GPIO_PIN_5
#define LCD12864_RST_CLK_ENABLE()     	__HAL_RCC_GPIOC_CLK_ENABLE()
#define LCD12864_RST_CLK_DISABLE()    	__HAL_RCC_GPIOC_CLK_DISABLE()

/* 串行 */
#ifdef LCD12864_8080
/* CS 指令/数据选择 */
#define LCD12864_RS_PORT            		GPIOE
#define LCD12864_RS_PIN             		GPIO_PIN_15
#define LCD12864_RS_CLK_ENABLE()     		__HAL_RCC_GPIOE_CLK_ENABLE()
#define LCD12864_RS_CLK_DISABLE()    		__HAL_RCC_GPIOE_CLK_DISABLE()
/* RW 1-R,0-W */
#define LCD12864_RW_PORT            		GPIOE
#define LCD12864_RW_PIN             		GPIO_PIN_14
#define LCD12864_RW_CLK_ENABLE()     		__HAL_RCC_GPIOE_CLK_ENABLE()
#define LCD12864_RW_CLK_DISABLE()    		__HAL_RCC_GPIOE_CLK_DISABLE()
/* ENABLE 使能 */
#define LCD12864_E_PORT           		 	GPIOE
#define LCD12864_E_PIN             			GPIO_PIN_13
#define LCD12864_E_CLK_ENABLE()    			__HAL_RCC_GPIOE_CLK_ENABLE()
#define LCD12864_E_CLK_DISABLE()   			__HAL_RCC_GPIOE_CLK_DISABLE()
/* DB0 */
#define LCD12864_DB0_PORT            		GPIOE
#define LCD12864_DB0_PIN             		GPIO_PIN_12
#define LCD12864_DB0_CLK_ENABLE()     	__HAL_RCC_GPIOE_CLK_ENABLE()
#define LCD12864_DB0_CLK_DISABLE()    	__HAL_RCC_GPIOE_CLK_DISABLE()
/* DB1 */
#define LCD12864_DB1_PORT            		GPIOE
#define LCD12864_DB1_PIN             		GPIO_PIN_11
#define LCD12864_DB1_CLK_ENABLE()     	__HAL_RCC_GPIOE_CLK_ENABLE()
#define LCD12864_DB1_CLK_DISABLE()    	__HAL_RCC_GPIOE_CLK_DISABLE()
/* DB2 */
#define LCD12864_DB2_PORT            		GPIOE
#define LCD12864_DB2_PIN             		GPIO_PIN_10
#define LCD12864_DB2_CLK_ENABLE()     	__HAL_RCC_GPIOE_CLK_ENABLE()
#define LCD12864_DB2_CLK_DISABLE()    	__HAL_RCC_GPIOE_CLK_DISABLE()
/* DB3 */
#define LCD12864_DB3_PORT            		GPIOE
#define LCD12864_DB3_PIN             		GPIO_PIN_9
#define LCD12864_DB3_CLK_ENABLE()     	__HAL_RCC_GPIOE_CLK_ENABLE()
#define LCD12864_DB3_CLK_DISABLE()    	__HAL_RCC_GPIOE_CLK_DISABLE()
/* DB4 */
#define LCD12864_DB4_PORT            		GPIOE
#define LCD12864_DB4_PIN             		GPIO_PIN_8
#define LCD12864_DB4_CLK_ENABLE()     	__HAL_RCC_GPIOE_CLK_ENABLE()
#define LCD12864_DB4_CLK_DISABLE()    	__HAL_RCC_GPIOE_CLK_DISABLE()
/* DB5 */
#define LCD12864_DB5_PORT            		GPIOE
#define LCD12864_DB5_PIN             		GPIO_PIN_7
#define LCD12864_DB5_CLK_ENABLE()     	__HAL_RCC_GPIOE_CLK_ENABLE()
#define LCD12864_DB5_CLK_DISABLE()    	__HAL_RCC_GPIOE_CLK_DISABLE()
/* DB6 */
#define LCD12864_DB6_PORT            		GPIOB
#define LCD12864_DB6_PIN             		GPIO_PIN_1
#define LCD12864_DB6_CLK_ENABLE()     	__HAL_RCC_GPIOB_CLK_ENABLE()
#define LCD12864_DB6_CLK_DISABLE()    	__HAL_RCC_GPIOB_CLK_DISABLE()
/* DB7 */
#define LCD12864_DB7_PORT            		GPIOB
#define LCD12864_DB7_PIN             		GPIO_PIN_2
#define LCD12864_DB7_CLK_ENABLE()     	__HAL_RCC_GPIOB_CLK_ENABLE()
#define LCD12864_DB7_CLK_DISABLE()    	__HAL_RCC_GPIOB_CLK_DISABLE()


/* RS */
#define LCD12864_RS_HIGH()		HAL_GPIO_WritePin(LCD12864_RS_PORT,LCD12864_RS_PIN,GPIO_PIN_SET)
#define LCD12864_RS_LOW()		HAL_GPIO_WritePin(LCD12864_RS_PORT,LCD12864_RS_PIN,GPIO_PIN_RESET)
/* RW */
#define LCD12864_RW_HIGH()		HAL_GPIO_WritePin(LCD12864_RW_PORT,LCD12864_RW_PIN,GPIO_PIN_SET)
#define LCD12864_RW_LOW()		HAL_GPIO_WritePin(LCD12864_RW_PORT,LCD12864_RW_PIN,GPIO_PIN_RESET)
/* E */
#define LCD12864_E_HIGH()		HAL_GPIO_WritePin(LCD12864_E_PORT,LCD12864_E_PIN,GPIO_PIN_SET)
#define LCD12864_E_LOW()		HAL_GPIO_WritePin(LCD12864_E_PORT,LCD12864_E_PIN,GPIO_PIN_RESET)
/* DB0 */
#define LCD12864_DB0_HIGH()		HAL_GPIO_WritePin(LCD12864_DB0_PORT,LCD12864_DB0_PIN,GPIO_PIN_SET)
#define LCD12864_DB0_LOW()		HAL_GPIO_WritePin(LCD12864_DB0_PORT,LCD12864_DB0_PIN,GPIO_PIN_RESET)
/* DB1 */
#define LCD12864_DB1_HIGH()		HAL_GPIO_WritePin(LCD12864_DB1_PORT,LCD12864_DB1_PIN,GPIO_PIN_SET)
#define LCD12864_DB1_LOW()		HAL_GPIO_WritePin(LCD12864_DB1_PORT,LCD12864_DB1_PIN,GPIO_PIN_RESET)
/* DB2 */
#define LCD12864_DB2_HIGH()		HAL_GPIO_WritePin(LCD12864_DB2_PORT,LCD12864_DB2_PIN,GPIO_PIN_SET)
#define LCD12864_DB2_LOW()		HAL_GPIO_WritePin(LCD12864_DB2_PORT,LCD12864_DB2_PIN,GPIO_PIN_RESET)
/* DB3 */
#define LCD12864_DB3_HIGH()		HAL_GPIO_WritePin(LCD12864_DB3_PORT,LCD12864_DB3_PIN,GPIO_PIN_SET)
#define LCD12864_DB3_LOW()		HAL_GPIO_WritePin(LCD12864_DB3_PORT,LCD12864_DB3_PIN,GPIO_PIN_RESET)
/* DB4 */
#define LCD12864_DB4_HIGH()		HAL_GPIO_WritePin(LCD12864_DB4_PORT,LCD12864_DB4_PIN,GPIO_PIN_SET)
#define LCD12864_DB4_LOW()		HAL_GPIO_WritePin(LCD12864_DB4_PORT,LCD12864_DB4_PIN,GPIO_PIN_RESET)
/* DB5 */
#define LCD12864_DB5_HIGH()		HAL_GPIO_WritePin(LCD12864_DB5_PORT,LCD12864_DB5_PIN,GPIO_PIN_SET)
#define LCD12864_DB5_LOW()		HAL_GPIO_WritePin(LCD12864_DB5_PORT,LCD12864_DB5_PIN,GPIO_PIN_RESET)
/* DB6 */
#define LCD12864_DB6_HIGH()		HAL_GPIO_WritePin(LCD12864_DB6_PORT,LCD12864_DB6_PIN,GPIO_PIN_SET)
#define LCD12864_DB6_LOW()		HAL_GPIO_WritePin(LCD12864_DB6_PORT,LCD12864_DB6_PIN,GPIO_PIN_RESET)
/* DB7 */
#define LCD12864_DB7_HIGH()		HAL_GPIO_WritePin(LCD12864_DB7_PORT,LCD12864_DB7_PIN,GPIO_PIN_SET)
#define LCD12864_DB7_LOW()		HAL_GPIO_WritePin(LCD12864_DB7_PORT,LCD12864_DB7_PIN,GPIO_PIN_RESET)

#else

/* CS 串行片选 */
#define LCD12864_CS_PORT            		GPIOE
#define LCD12864_CS_PIN             		GPIO_PIN_15
#define LCD12864_CS_CLK_ENABLE()     		__HAL_RCC_GPIOE_CLK_ENABLE()
#define LCD12864_CS_CLK_DISABLE()    		__HAL_RCC_GPIOE_CLK_DISABLE()
/* IO 串行数据口 */
#define LCD12864_IO_PORT            		GPIOE
#define LCD12864_IO_PIN             		GPIO_PIN_14
#define LCD12864_IO_CLK_ENABLE()     		__HAL_RCC_GPIOE_CLK_ENABLE()
#define LCD12864_IO_CLK_DISABLE()    		__HAL_RCC_GPIOE_CLK_DISABLE()
/* CLK 串行同步时钟 */
#define LCD12864_CLK_PORT            		GPIOE
#define LCD12864_CLK_PIN             		GPIO_PIN_13
#define LCD12864_CLK_CLK_ENABLE()     	__HAL_RCC_GPIOE_CLK_ENABLE()
#define LCD12864_CLK_CLK_DISABLE()    	__HAL_RCC_GPIOE_CLK_DISABLE()


/* CS */
#define LCD12864_CS_HIGH()		HAL_GPIO_WritePin(LCD12864_CS_PORT,LCD12864_CS_PIN,GPIO_PIN_SET)
#define LCD12864_CS_LOW()			HAL_GPIO_WritePin(LCD12864_CS_PORT,LCD12864_CS_PIN,GPIO_PIN_RESET)
/* IO */
#define LCD12864_IO_HIGH()		HAL_GPIO_WritePin(LCD12864_IO_PORT,LCD12864_IO_PIN,GPIO_PIN_SET)
#define LCD12864_IO_LOW()			HAL_GPIO_WritePin(LCD12864_IO_PORT,LCD12864_IO_PIN,GPIO_PIN_RESET)
/* CLK */
#define LCD12864_CLK_HIGH()		HAL_GPIO_WritePin(LCD12864_CLK_PORT,LCD12864_CLK_PIN,GPIO_PIN_SET)
#define LCD12864_CLK_LOW()		HAL_GPIO_WritePin(LCD12864_CLK_PORT,LCD12864_CLK_PIN,GPIO_PIN_RESET)

#endif /* LCD12864_8080 */
/* RST */
#define LCD12864_RST_HIGH()		HAL_GPIO_WritePin(LCD12864_RST_PORT,LCD12864_RST_PIN,GPIO_PIN_SET)
#define LCD12864_RST_LOW()		HAL_GPIO_WritePin(LCD12864_RST_PORT,LCD12864_RST_PIN,GPIO_PIN_RESET)


#define LCD12864_CMD_CLEAR_DISPALY				0x01		/* 清楚显示（DDRAM） */
#define LCD12864_CMD_ADDR_RST							0x02		/* 地址归位（DDRAM）*/
#define LCD12864_CMD_ADDR_RST1						0x06		/* Z地址计数器 */
#define LCD12864_CMD_DISPALY_OFF					0x08		/* 显示开关 关 */
#define LCD12864_CMD_DISPALY_ON						0x0C		/* 显示开关 开 */
#define LCD12864_CMD_CURSOR_ON						0x0F		/* 显示、游标 开 */
#define LCD12864_CMD_BASE_COMMAND					0x30		/* 基本指令集 */
#define LCD12864_CMD_EXTEND_COMMAND				0x34		/* 扩展指令集 */


void LCD12864_WriteCmd(uint8_t cmd);
void LCD12864_WriteData(uint8_t data);
void LCD12864_Init(void);
void LCD12864_DrawPoint(uint8_t xPos,uint8_t yPos,uint8_t fill);
void LCD12864_ShowChar(uint8_t xPos,uint8_t yPos,uint8_t chr,sFONT font,uint8_t fill);
void LCD12864_ShowString(uint8_t xPos,uint8_t yPos,uint8_t *chr,sFONT font,uint8_t fill);
void LCD12864_ShowGB(uint8_t xPos,uint8_t yPos,uint8_t *chr,uint8_t fill);
void LCD12864_ClearDisplay(void);
void LCD12864_RefreshCGRAM(void);
void LCD12864_DisplayString(uint8_t row,uint8_t column,uint8_t *s);
#endif /* _LCD12864_H */
